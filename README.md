# xquotes_history
С++ header-only библиотека для хранения котировок

### Описание

Данная библиотека позволяет хранить котировки в сжатом формате и получать простой доступ к файлам.

### Особенности

* Библиотека разбивает котировки по дням. Каждый торговый день записывается в отдельный файл
* Каждый файл одного дня содержит фиксированное количество минут. В одном дне *1440* минут
* Файлы могут содержать как весь набор цен одного бара *(open, low, high, close)* так и только одну цену, например *close*
* Каждый файл начинает котировки в *00:00:00* дня по *GMT*
* Файлы котировок содержат только котировки. Временные метки в файле не содержатся
* Файлы могут быть сжаты при помощи библиотеки *zstd* и предвариетельно собранному словарю
* Каждая котировка внутри файла хранится в *uint32_t* и получается путем умножения цены на *0x1FFFF*. Это позволяет хранить как 4-х, так и 5-ти значные котировки.
* Бибиотека поддерживает стандарт C++11

### Как начать использовать

* Для начала необходимо собрать библиотеку zstd. Если вы используете *Code::Blocks*, тогда в каталоге *code_blocks\build_zstd* вы найдете проект для сборки данной библиотеки. Не забудьте выбрать\настроить компилятор перед сборкой! Полученный файл *libzstd.a* положите в папку *lib*
* Укажите в проекте пути к файлам библиотек *xtime_cpp* и *banana-filesystem-cpp*


### Зависимости

Данная библиотека для работы использует следующие внешние библиотеки

* *Библиотека zstd (для работы с сжатыми файлами)* - [https://github.com/facebook/zstd](https://github.com/facebook/zstd)
* *Библиотека xtime (для работы с временными метками)* - [https://github.com/NewYaroslav/xtime_cpp.git](https://github.com/NewYaroslav/xtime_cpp.git)
* *Библиотека banana-filesystem-cpp (для работы с файлами)* - [https://github.com/NewYaroslav/banana-filesystem-cpp](https://github.com/NewYaroslav/banana-filesystem-cpp)



