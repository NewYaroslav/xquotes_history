# Программы для работы с файлами котировок

## xqhtools.exe

*xqhtools.exe* - консольная программа для конвертации и слияния файлов котировок
Данная программа собрана при помощи компилятора *MinGW-w64* версии *7.3.0* [https://sourceforge.net/projects/mingw-w64/](https://sourceforge.net/projects/mingw-w64/)
Если на вашем компьютере нет необходимых dll файлов, их можно взять из архива с компилятором.

Команды:

* *merge* - слить файлы котировок вместе. Данная команда работает только с котировками в формате хранилища котировок qhs*
* *convert_csv* - конвертировать csv файлы. Данная команда подходит для конвертации csv файлов в набор hex файлов или в хранилище котировок qhs*
* *convert_storage* - конвертировать qhs* файлы. Данная команда конвертирует файлы qhs* в csv файлы

Переменные:

* *path_hex* - путь к папке с файлами hex
* *path_csv* - путь к файлу котировок в формате csv
* *path_storage* - путь к файлу котировок в формате хранилища котировок qhs*

Флаги:

* *-cetgmt* - преобразовать время CET в GMT
* *-eetgmt* - преобразовать время EET в GMT
* *-gmtcet* - преобразовать время GMT в CET
* *-gmteet* - преобразовать время GMT в EET
* *-finam* - преобразовать время CET в GMT при конвертировании csv файлов 
* *-alpari* - преобразовать время EET в GMT или CET в GMT при конвертировании csv файлов (у ДЦ серверов Альпари с 01.05.2011 года время сервера поменялось с CET на EET)
* *-h* - прочитать заголовок csv файла. Не оказывает влияния
* *-oo* - использовать только цену открытия (open) бара или свечи. 
* *-oc* - использовать только цену закрытия (close) бара или свечи. 
* *-ohlc* - использовать 4 цены бара или свечи (open, high, low, close)
* *-ohlcv* - использовать 4 цены бара или свечи (open, high, low, close) и объем (volume)
* *-c* - использовать сжатие данных (только для преобразования csv в формат хранилища котировок qhs* или для слияния qhs* файлов)

### Пример использования

Преобразовать csv файл в qhs4 файл с использованием сжатия (флаг *-c*) и преобразованием времени из CET в GMT (флаг *-ohlc*):

```
xqhtools convert_csv path_storage storage2/AUDCAD path_csv csv\AUDCAD1.csv -cetgmt -ohlc -c
```
